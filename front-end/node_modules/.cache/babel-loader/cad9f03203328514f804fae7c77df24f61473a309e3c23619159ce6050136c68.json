{"ast":null,"code":"var _jsxFileName = \"/workspaces/bookmyshow6/front-end/src/Context/BsState.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport BsContext from \"./BsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BsState = props => {\n  _s();\n  const [errorPopup, setErrorPopup] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [time, changeTime] = useState(\"\");\n  const [movie, changeMovie] = useState(\"\");\n  const [noOfSeat, changeNoOfSeats] = useState({\n    A1: \"\",\n    A2: \"\",\n    A3: \"\",\n    A4: \"\",\n    D1: \"\",\n    D2: \"\"\n  });\n  const [lastBookingDetails, setLastBookingDetails] = useState(null);\n  const handlePostBooking = async () => {\n    const response = await fetch(`http://localhost:8080/api/booking`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        movie: movie,\n        slot: time,\n        seats: noOfSeat\n      })\n    });\n    const data = await response.json();\n    setErrorPopup(true);\n    setErrorMessage(data.message);\n    if (response.status === 200) {\n      changeTime(\"\");\n      changeMovie(\"\");\n      changeNoOfSeats({\n        A1: \"\",\n        A2: \"\",\n        A3: \"\",\n        A4: \"\",\n        D1: \"\",\n        D2: \"\"\n      });\n      setLastBookingDetails(data.data);\n      window.localStorage.clear();\n    }\n  };\n  const handleGetLastBooking = async () => {\n    const response = await fetch(`http://localhost:8080/api/booking`, {\n      method: \"GET\"\n    });\n    const data = await response.json();\n    setLastBookingDetails(data.data);\n  };\n  useEffect(() => {\n    const movie = window.localStorage.getItem(\"movie\");\n    const slot = window.localStorage.getItem(\"slot\");\n    const seats = JSON.parse(window.localStorage.getItem(\"seats\"));\n    if (movie) {\n      changeMovie(movie);\n    }\n    if (slot) {\n      changeTime(slot);\n    }\n    if (seats) {\n      changeNoOfSeats(seats);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BsContext.Provider, {\n    value: {\n      handlePostBooking,\n      handleGetLastBooking,\n      movie,\n      changeMovie,\n      time,\n      changeTime,\n      noOfSeat,\n      changeNoOfSeats,\n      lastBookingDetails,\n      errorPopup,\n      setErrorPopup,\n      errorMessage,\n      setErrorMessage\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s(BsState, \"yfisvL1+L3NsqEkWXUbwrPPQbxw=\");\n_c = BsState;\nexport default BsState;\nvar _c;\n$RefreshReg$(_c, \"BsState\");","map":{"version":3,"names":["React","useState","useEffect","BsContext","jsxDEV","_jsxDEV","BsState","props","_s","errorPopup","setErrorPopup","errorMessage","setErrorMessage","time","changeTime","movie","changeMovie","noOfSeat","changeNoOfSeats","A1","A2","A3","A4","D1","D2","lastBookingDetails","setLastBookingDetails","handlePostBooking","response","fetch","method","headers","body","JSON","stringify","slot","seats","data","json","message","status","window","localStorage","clear","handleGetLastBooking","getItem","parse","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/workspaces/bookmyshow6/front-end/src/Context/BsState.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport BsContext from \"./BsContext\";\r\n\r\nconst BsState = (props) => {\r\n  \r\n  const [errorPopup, setErrorPopup] = useState(false);\r\n\r\n \r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  \r\n  const [time, changeTime] = useState(\"\");\r\n\r\n \r\n  const [movie, changeMovie] = useState(\"\");\r\n\r\n  \r\n  const [noOfSeat, changeNoOfSeats] = useState({\r\n    A1: \"\",\r\n    A2: \"\",\r\n    A3: \"\",\r\n    A4: \"\",\r\n    D1: \"\",\r\n    D2: \"\",\r\n  });\r\n\r\n \r\n  const [lastBookingDetails, setLastBookingDetails] = useState(null);\r\n\r\n \r\n  const handlePostBooking = async () => {\r\n   \r\n    const response = await fetch(\r\n      `http://localhost:8080/api/booking`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ movie: movie, slot: time, seats: noOfSeat }),\r\n      }\r\n    );\r\n\r\n    const data = await response.json();\r\n\r\n    \r\n    setErrorPopup(true);\r\n    setErrorMessage(data.message);\r\n\r\n    if (response.status === 200) {\r\n      \r\n      changeTime(\"\");\r\n      changeMovie(\"\");\r\n      changeNoOfSeats({\r\n        A1: \"\",\r\n        A2: \"\",\r\n        A3: \"\",\r\n        A4: \"\",\r\n        D1: \"\",\r\n        D2: \"\",\r\n      });\r\n      setLastBookingDetails(data.data);\r\n\r\n  \r\n      window.localStorage.clear();\r\n    }\r\n  };\r\n\r\n  \r\n  const handleGetLastBooking = async () => {\r\n    const response = await fetch(\r\n      `http://localhost:8080/api/booking`,\r\n      {\r\n        method: \"GET\",\r\n      }\r\n    );\r\n\r\n    const data = await response.json();\r\n\r\n    \r\n    setLastBookingDetails(data.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n    const movie = window.localStorage.getItem(\"movie\");\r\n    const slot = window.localStorage.getItem(\"slot\");\r\n    const seats = JSON.parse(window.localStorage.getItem(\"seats\"));\r\n\r\n    if(movie){\r\n      changeMovie(movie);\r\n    }\r\n    if(slot){\r\n      changeTime(slot);\r\n    }\r\n    if(seats){\r\n      changeNoOfSeats(seats);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    \r\n    <BsContext.Provider\r\n      value={{\r\n        handlePostBooking,\r\n        handleGetLastBooking,\r\n        movie,\r\n        changeMovie,\r\n        time,\r\n        changeTime,\r\n        noOfSeat,\r\n        changeNoOfSeats,\r\n        lastBookingDetails,\r\n        errorPopup,\r\n        setErrorPopup,\r\n        errorMessage,\r\n        setErrorMessage,\r\n      }}>\r\n      {props.children}\r\n    </BsContext.Provider>\r\n  );\r\n};\r\nexport default BsState;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,OAAO,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAEzB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAGnD,MAAM,CAACU,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAGpD,MAAM,CAACY,IAAI,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAGvC,MAAM,CAACc,KAAK,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAGzC,MAAM,CAACgB,QAAQ,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC;IAC3CkB,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE,EAAE;IACNC,EAAE,EAAE;EACN,CAAC,CAAC;EAGF,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EAGlE,MAAM0B,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IAEpC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,mCAAmC,EACnC;MACEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEnB,KAAK,EAAEA,KAAK;QAAEoB,IAAI,EAAEtB,IAAI;QAAEuB,KAAK,EAAEnB;MAAS,CAAC;IACpE,CACF,CAAC;IAED,MAAMoB,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAGlC5B,aAAa,CAAC,IAAI,CAAC;IACnBE,eAAe,CAACyB,IAAI,CAACE,OAAO,CAAC;IAE7B,IAAIX,QAAQ,CAACY,MAAM,KAAK,GAAG,EAAE;MAE3B1B,UAAU,CAAC,EAAE,CAAC;MACdE,WAAW,CAAC,EAAE,CAAC;MACfE,eAAe,CAAC;QACdC,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE,EAAE;QACNC,EAAE,EAAE;MACN,CAAC,CAAC;MACFE,qBAAqB,CAACW,IAAI,CAACA,IAAI,CAAC;MAGhCI,MAAM,CAACC,YAAY,CAACC,KAAK,CAAC,CAAC;IAC7B;EACF,CAAC;EAGD,MAAMC,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAC1B,mCAAmC,EACnC;MACEC,MAAM,EAAE;IACV,CACF,CAAC;IAED,MAAMO,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAGlCZ,qBAAqB,CAACW,IAAI,CAACA,IAAI,CAAC;EAClC,CAAC;EAEDnC,SAAS,CAAC,MAAM;IAEd,MAAMa,KAAK,GAAG0B,MAAM,CAACC,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC;IAClD,MAAMV,IAAI,GAAGM,MAAM,CAACC,YAAY,CAACG,OAAO,CAAC,MAAM,CAAC;IAChD,MAAMT,KAAK,GAAGH,IAAI,CAACa,KAAK,CAACL,MAAM,CAACC,YAAY,CAACG,OAAO,CAAC,OAAO,CAAC,CAAC;IAE9D,IAAG9B,KAAK,EAAC;MACPC,WAAW,CAACD,KAAK,CAAC;IACpB;IACA,IAAGoB,IAAI,EAAC;MACNrB,UAAU,CAACqB,IAAI,CAAC;IAClB;IACA,IAAGC,KAAK,EAAC;MACPlB,eAAe,CAACkB,KAAK,CAAC;IACxB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBAEE/B,OAAA,CAACF,SAAS,CAAC4C,QAAQ;IACjBC,KAAK,EAAE;MACLrB,iBAAiB;MACjBiB,oBAAoB;MACpB7B,KAAK;MACLC,WAAW;MACXH,IAAI;MACJC,UAAU;MACVG,QAAQ;MACRC,eAAe;MACfO,kBAAkB;MAClBhB,UAAU;MACVC,aAAa;MACbC,YAAY;MACZC;IACF,CAAE;IAAAqC,QAAA,EACD1C,KAAK,CAAC0C;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEzB,CAAC;AAAC7C,EAAA,CAtHIF,OAAO;AAAAgD,EAAA,GAAPhD,OAAO;AAuHb,eAAeA,OAAO;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}